<ion-content>
  <div class="wallpaper">
    <ion-card>
      <ion-card-content>
        <ion-img src="assets/icon/login.jpg"></ion-img>
        <div class="data-container">
          Bienvenido
        </div>
        <div style="color: white; text-align: center; font-size: 20px;">
          Inicia Sesión para continuar
        </div>
        <form [formGroup]="formularioLogin">
          <ion-list style="background-color: transparent;">
            <ion-item fill="outline" class="loginForm">
              <ion-label position="floating">Usuario</ion-label>
              <ion-input (keypress)="validateEmail($event)" (input)="checkEmail()" formControlName="email"
                maxlength="50"></ion-input>
              <ion-icon style="font-size: 20px; margin-right: 12px;" name="mail-outline" slot="end" fill="clear"></ion-icon>
              <ion-note *ngIf="formularioLogin.controls['email'].hasError('pattern')" slot="error">
                {{ 'CHARACTER_NOT_ALLOWED' | translate }}
              </ion-note>
              <ion-note
                *ngIf="formularioLogin.controls['email'].hasError('required') && formularioLogin.get('email')?.touched"
                slot="error">
                {{ 'REQUIRED' | translate }}
              </ion-note>
            </ion-item>
    
            <ion-item fill="outline" class="loginForm">
              <ion-label position="floating">Contraseña</ion-label>
              <ion-input (keypress)="validatePassword($event)" (input)="checkPassword()" formControlName="password"
                [type]="passwordVisibility ? 'password' : 'text'" maxlength="20">
              </ion-input>
              <ion-button slot="end" fill="clear" (click)="showPassword()">
                <ion-icon style="font-size: 20px;" *ngIf="passwordVisibility === false" name="eye-outline" class="iconEye"></ion-icon>
                <ion-icon style="font-size: 20px;" *ngIf="passwordVisibility === true" name="eye-off-outline" class="iconEye"></ion-icon>
              </ion-button>
              <ion-note *ngIf="formularioLogin.controls['password'].hasError('pattern')" slot="error">
                {{ 'CHARACTER_NOT_ALLOWED' | translate }}
              </ion-note>
              <ion-note
                *ngIf="formularioLogin.controls['password'].hasError('required') && formularioLogin.get('password')?.touched"
                slot="error">
                {{ 'REQUIRED' | translate }}
              </ion-note>
            </ion-item>
          </ion-list>
        </form>
    
        <div class="forgot-password" [routerLink]="'/forgot-password'">
          ¿Olvidaste la contraseña?
        </div>
    
        <ion-button shape="round" expand="full" [disabled]="formularioLogin.invalid" (click)="login(formularioLogin.value)" class="loginButton"
          color="primary">Iniciar Sesión
        </ion-button>
    
        <div class="register">
          ¿No tienes una cuenta? <div class="register-text" [routerLink]="'/register'">Regístrate</div>
        </div>
    
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>