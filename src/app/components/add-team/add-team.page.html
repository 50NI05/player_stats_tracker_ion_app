<ion-header class="ion-no-border">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>Agregar Equipo</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="wallpaper">
    <ion-card class="equipo-card">
      <!-- <ion-icon name="football" class="equipo-icon"></ion-icon> -->
      <h2 class="title">Agregar Equipo</h2>
      <form [formGroup]="addTeamForm">
        <ion-item>
          <ion-label position="floating">Nombre del Equipo</ion-label>
          <ion-input formControlName="teamName" maxlength="50"></ion-input>
          <ion-note *ngIf="addTeamForm.controls['teamName'].hasError('required') && addTeamForm.get('teamName')?.touched"
            slot="error" style="color: white;">
            {{ 'REQUIRED' | translate }}
          </ion-note>
        </ion-item>
    
        <ion-row style="margin: 0 -5px;">
          <ion-col>
            <ion-item>
              <ion-label position="floating">País</ion-label>
              <ion-input formControlName="teamCountry" maxlength="25"></ion-input>
              <ion-note
                *ngIf="addTeamForm.controls['teamCountry'].hasError('required') && addTeamForm.get('teamCountry')?.touched"
                slot="error" style="color: white;">
                {{ 'REQUIRED' | translate }}
              </ion-note>
            </ion-item>
          </ion-col>
          <ion-col>
            <ion-item>
              <ion-label position="floating">Fundación</ion-label>
              <ion-input formControlName="teamFounded" maxlength="4"></ion-input>
              <ion-note
                *ngIf=" addTeamForm.controls['teamFounded'].hasError('required') && addTeamForm.get('teamFounded')?.touched"
                slot="error" style="color: white;">
                {{ 'REQUIRED' | translate }}
              </ion-note>
            </ion-item>
          </ion-col>
        </ion-row>
    
        <ion-item>
          <ion-label position="floating">Logo URL</ion-label>
          <ion-input formControlName="teamLogoUrl" maxlength="100"></ion-input>
        </ion-item>
    
        <ion-button expand="full" color="primary" shape="round" [disabled]="addTeamForm.invalid" (click)="addTeam(addTeamForm.value)">
          Agregar Equipo
        </ion-button>
      </form>
    </ion-card>
    
    <ion-card class="equipos-list-card">
      <h2 class="title">Equipos de Fútbol</h2>
      <ion-list>
        <ion-item *ngFor="let team of allTeams">
          <ion-avatar slot="start">
            <img *ngIf="team.logo !== ''" [src]="team.logo">
            <ion-icon *ngIf="team.logo === ''" style="font-size: 42px;" name="football-outline"></ion-icon>
          </ion-avatar>
          <ion-label>
            <h3>{{ team.name }}</h3>
            <p>{{ team.country }}</p>
          </ion-label>
          <ion-label slot="end">
            <ion-buttons style="display: flex; flex-direction: row; justify-content: center;">
              <ion-button style="color: rgb(198, 147, 16); font-size: 20px;" (click)="openModal(team.id)" fill="clear"><ion-icon name="create-outline"></ion-icon></ion-button>
            </ion-buttons>
          </ion-label>
        </ion-item>
      </ion-list>
    </ion-card>
  </div>
</ion-content>